<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>SIMSET ‚Ä¢ Link Launcher (Firebase)</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="app" role="application">
    <div class="header" aria-label="‡∏´‡∏±‡∏ß‡πÄ‡∏ß‡πá‡∏ö">
      <div class="brand">SIMSET Link ‡∏Ç‡πâ‡∏≠‡∏™‡∏≠‡∏ö ‡πÅ‡∏•‡∏∞ ‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°</div>
      <div class="tip">‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï Pop-ups & Redirects ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏î‡πÄ‡∏°‡∏ô‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î 2 ‡πÅ‡∏ó‡πá‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô</div>
    </div>

    <div class="tabs" role="tablist" aria-label="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î">
      <button id="tab-open" class="tab-btn" role="tab" aria-selected="true" aria-controls="panel-open">üîó ‡πÄ‡∏õ‡∏¥‡∏î‡∏•‡∏¥‡∏á‡∏Å‡πå</button>
      <button id="tab-update" class="tab-btn" role="tab" aria-selected="false" aria-controls="panel-update">‚úèÔ∏è ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡∏¥‡∏á‡∏Å‡πå</button>
    </div>

    <!-- OPEN -->
    <section id="panel-open" class="panel" role="tabpanel" aria-labelledby="tab-open">
      <div class="hero">
        <div>
          <h1 class="title">‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏•‡∏¥‡∏á‡∏Å‡πå</h1>
          <p class="subtitle">‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ï‡πà‡∏≠‡∏ê‡∏≤‡∏ô‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå</p>
        </div>
        <div class="max-420" style="display:grid; gap:10px">
          <button id="openBtn" class="btn btn-green" aria-label="‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏≠‡∏á‡∏•‡∏¥‡∏á‡∏Å‡πå">üîó OPEN LINK</button>
          <small class="hint">‡∏à‡∏∞‡πÄ‡∏õ‡∏¥‡∏î <b>Selecx + Google Forms</b> ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Å‡∏±‡∏ô</small>
          <div id="status" class="status" aria-live="polite" aria-atomic="true"></div>
          <p class="note">‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏Ç‡∏∂‡πâ‡∏ô ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏ß‡∏à‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Pop-ups ‡∏´‡∏£‡∏∑‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏Ç‡∏¢‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏ö‡∏•‡πá‡∏≠‡∏Å‡πÑ‡∏ß‡πâ</p>
        </div>
      </div>
    </section>

    <!-- UPDATE -->
    <section id="panel-update" class="panel" role="tabpanel" aria-labelledby="tab-update" hidden>
      <form id="formLinks" class="form" novalidate>
        <!-- Selecx -->
        <div class="field-card">
          <div class="row">
            <div>
              <label for="selecx">‡∏•‡∏¥‡∏á‡∏Å‡πå Selecx (‡∏£‡∏∞‡∏ö‡∏ö‡∏´‡∏•‡∏±‡∏Å)</label>
              <div class="label-desc">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: https://selecx.si.mahidol.ac.th/login/index.php</div>
            </div>
            <input type="url" id="selecx" name="selecx" placeholder="https://selecx.si.mahidol.ac.th/login/index.php" autocomplete="off" required>
          </div>
        </div>

        <!-- Google Forms -->
        <div class="field-card">
          <div class="row">
            <div>
              <label for="gform">‡∏•‡∏¥‡∏á‡∏Å‡πå Google Forms (‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°‡πÄ‡∏™‡∏£‡∏¥‡∏°)</label>
              <div class="label-desc">‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: https://forms.gle/XXXXXXXXXXXXXX</div>
            </div>
            <div class="inline-actions" style="flex:1">
              <input type="url" id="gform" name="gform" placeholder="https://forms.gle/XXXXXXXXXXXXXX" autocomplete="off" required style="flex:1">
              <button type="button" id="scanQRBtn" class="btn btn-gray btn-sm" aria-label="‡∏™‡πÅ‡∏Å‡∏ô‡∏Ñ‡∏¥‡∏ß‡∏≠‡∏≤‡∏£‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå">üì∑ ‡∏™‡πÅ‡∏Å‡∏ô QR</button>
              <button type="button" id="pickImageBtn" class="btn btn-gray btn-sm" aria-label="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ QR ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå">üñºÔ∏è ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ</button>
              <input type="file" id="qrFile" accept="image/*" hidden>
            </div>
          </div>
        </div>

        <div class="hint">‡πÉ‡∏™‡πà‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ <b>https://</b> ‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡∏™‡πÅ‡∏Å‡∏ô QR ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏≠‡∏Å‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</div>

        <div class="form-footer max-420" style="margin-top:8px">
          <button class="btn btn-blue-dim" id="saveBtn" type="submit" aria-label="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡∏¥‡∏á‡∏Å‡πå">‚úèÔ∏è UPDATE LINK</button>
          <div id="saveStatus" class="status" aria-live="polite" aria-atomic="true" style="margin-top:10px"></div>
          <p class="note">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô Firebase ‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå ‡πÅ‡∏•‡∏∞‡πÅ‡∏Ñ‡∏ä‡∏™‡∏≥‡∏£‡∏≠‡∏á‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á (localStorage)</p>
        </div>
      </form>
    </section>
  </div>

  <!-- QR Modal -->
  <div id="qrModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="qrTitle">
    <div class="modal-card">
      <div class="modal-head">
        <div id="qrTitle" class="modal-title">üì∑ ‡∏™‡πÅ‡∏Å‡∏ô QR ‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡πâ‡∏≠‡∏á</div>
        <button type="button" id="closeQR" class="btn btn-gray btn-sm" aria-label="‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏™‡πÅ‡∏Å‡∏ô">‡∏õ‡∏¥‡∏î</button>
      </div>
      <div class="modal-body">
        <video id="qrVideo" playsinline></video>
        <div id="qrInfo" class="qr-status"></div>
        <div class="inline-actions">
          <button type="button" id="startQR" class="btn btn-gray btn-sm">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏™‡πÅ‡∏Å‡∏ô</button>
          <button type="button" id="stopQR" class="btn btn-gray btn-sm">‡∏´‡∏¢‡∏∏‡∏î</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Toast -->
  <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true">‚úÖ ‡∏•‡∏¥‡∏á‡∏Å‡πå‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÅ‡∏•‡πâ‡∏ß</div>

  <!-- Firebase (compat) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-database-compat.js"></script>

  <!-- App -->
  <script src="app.js"></script>
</body>
</html>
